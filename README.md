# Team Project Chat

Простий чат-додаток з автентифікацією користувачів, створений на C# Windows Forms з TCP/IP комунікацією.

## Архітектура

Проект складається з двох основних компонентів:

### 1. Server (Бекенд)
- **Технологія**: C# Windows Forms
- **Порт**: 9000
- **База даних**: JSON файл (`local_db.json`)
- **Функціональність**:
  - Реєстрація користувачів
  - Автентифікація (логін)
  - Зберігання повідомлень
  - Трансляція повідомлень між клієнтами

### 2. Client (Фронтенд)
- **Технологія**: C# Windows Forms
- **Компоненти**:
  - `From_Login` - форма логіну/реєстрації
  - `Form1` - форма чату
- **Функціональність**:
  - Вхід в систему
  - Реєстрація нових користувачів
  - Відправка та отримання повідомлень

## Протокол комунікації

Клієнт та сервер обмінюються JSON повідомленнями через TCP з'єднання.

### Типи повідомлень:

#### 1. Автентифікація (Login)
```json
{
  "Type": "login",
  "Username": "username",
  "Password": "password"
}
```

#### 2. Реєстрація (Register)
```json
{
  "Type": "register",
  "Username": "username",
  "Password": "password"
}
```

#### 3. Відповідь сервера
```json
{
  "Type": "response",
  "Success": true,
  "UserId": 1,
  "Username": "username",
  "ErrorMessage": ""
}
```

#### 4. Повідомлення чату
```json
{
  "Type": "chat",
  "Content": "Текст повідомлення",
  "Username": "username"
}
```

## Як використовувати

### 1. Запуск сервера

1. Відкрийте рішення `Team-Project-Chat.sln` в Visual Studio
2. Встановіть проект `Server` як стартовий
3. Запустіть програму (F5)
4. Натисніть кнопку "Start" щоб запустити сервер на порту 9000

### 2. Запуск клієнта

1. Встановіть проект `Team-Project-Chat` (Client) як стартовий
2. Запустіть програму (F5)
3. З'явиться форма логіну

### 3. Робота з додатком

#### Реєстрація нового користувача:
1. Введіть бажаний логін і пароль
2. Натисніть кнопку "Зареєструватися"
3. При успішній реєстрації ви автоматично потрапите в чат

#### Вхід існуючого користувача:
1. Введіть свій логін і пароль
2. Натисніть кнопку "Увійти"
3. При успішній автентифікації ви потрапите в чат

#### Відправка повідомлень:
1. Після входу в чат, дочекайтеся повідомлення "Authentication successful!"
2. Введіть текст повідомлення в нижнє текстове поле
3. Натисніть кнопку "Send"
4. Ваше повідомлення буде відправлено всім підключеним клієнтам

## Структура проекту

```
Team-Project-Chat/
├── Server/
│   ├── Form1.cs              # Основна логіка сервера
│   ├── Form1.Designer.cs     # UI дизайн сервера
│   └── Server.csproj         # Конфігурація проекту сервера
├── Team-Project-Chat/
│   ├── Form1.cs              # Логіка чат-форми
│   ├── Form1.Designer.cs     # UI дизайн чат-форми
│   ├── From-Login.cs         # Логіка форми логіну
│   ├── From-Login.Designer.cs # UI дизайн форми логіну
│   └── Client.csproj         # Конфігурація проекту клієнта
└── Team-Project-Chat.sln     # Solution файл
```

## База даних

Сервер зберігає дані в файлі `local_db.json` в директорії з сервером.

### Структура даних:

```json
{
  "Users": [
    {
      "Id": 1,
      "Username": "testuser",
      "PasswordHash": "password123"
    }
  ],
  "Messages": [
    {
      "Id": 1,
      "SenderId": 1,
      "ReceiverId": 0,
      "Content": "Привіт!",
      "Timestamp": "15:30:45 08.11.2025"
    }
  ]
}
```

**Примітка**: У поточній реалізації паролі зберігаються у відкритому вигляді. Для продакшн-використання слід додати хешування паролів.

## Особливості реалізації

1. **Постійне з'єднання**: Кожен клієнт підтримує одне TCP з'єднання з сервером протягом всієї сесії
2. **Автентифікація**: Відбувається при першому підключенні через те ж TCP з'єднання
3. **Broadcast повідомлень**: Всі повідомлення транслюються всім підключеним клієнтам
4. **Збереження історії**: Всі повідомлення зберігаються на сервері в JSON базі даних

## Вимоги

- Windows OS
- .NET 8.0 або новіший
- Visual Studio 2022 або новіший

## Можливі покращення

- [ ] Додати хешування паролів (bcrypt)
- [ ] Реалізувати приватні повідомлення між користувачами
- [ ] Додати список активних користувачів
- [ ] Реалізувати завантаження історії повідомлень
- [ ] Додати підтримку кімнат/каналів
- [ ] Реалізувати відправку файлів
- [ ] Додати шифрування з'єднання (SSL/TLS)
- [ ] Створити веб-версію клієнта

## Ліцензія

Цей проект створено в навчальних цілях.
